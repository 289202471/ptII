<!-- $Id$ -->
<html>
  <head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
    <title>Eclipse is aware of the Version Control aspects of the project.</title> 
    <link href="../../../doc/default.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <h1>Eclipse is aware of the Version Control aspects of the project.</h1>
    <p><i>(Use both the Eclipse Git plugin and the
	shell <code>git</code> command).</i>

      <br/>This choice is the <b>preferred</b> choice for collaborating with
      the Ptolemy group because it means that your Ptolemy II tree can get
      recent changes.

      <br/>The downside is that that the development tree is under
      development, so there may be bugs or instability.</p>


    <p>For other ways to set up Eclipse and Ptolemy II, see
      the <a href="project.htm" target="main">Setting up Eclipse to manage your Ptolemy II development Environment</a> page.</p>

    <p>In Eclipse, add the ptII Git Repository:</p>

    <ol>
      <li>
        <br/><code>Window</code> | <code>Show View</code> | <code>Other</code> | <code>Git</code> | <code>Git Repositories</code> and then hit Open
        <br/>To see the SVN Repositories pane, you may need to close the Eclipse Welcome Window by clicking on the x in the tab.
      </li>

      <li>In the Git Repository View
        select <code>Clone a Git repository</code>.</li>

      <li>In the Select Repository Source window, select <code>Clone URI</code> and click on Next.</li>

      <li>In the URI field, paste
        <pre>
          https://github.com/icyphy/ptII
        </pre>
        <i>Optional</i> If you have write access to the repository, add your user name and password to the Authentication section.</li>

      <li>In the Branch Selection window, click on <code>Deselect All</code>, then click on the box next to the <code>master</code> branch.

    </ol>
    <blockquote>
      <table border="1">
        <tr>
	  <td>
	      Be sure to check out the <b><code>master</code></b> branch and not the
	      entire tree, which include all the branches and the trunk.
	    </td>
          </tr>
        </table>
      </blockquote>

      Follow the wizard, creating selections as follows:
      <ol>
        <li> In the "Find/Check Out As" window, keep the default,
          <code>Check out as a project configured using the New Project Wizard</code>, then hit <code>Finish</code>.
          <br/>(If <code>Check out as a project configure using the New Project Wizard</code> is disabled, then the
          problem is someone checked a <code>.project</code> file into the repository.) 
          <center>
	    <p><img src="../../img/eclipseCheckOutAs.png" alt="Eclipse Check Out As Window" width="630" height="497"></p>
          </center>
        </li>

        <li> In the "New Project" window, select "Java" &gt; "Java project", Click "Next".
          <center>
	    <p><img src="../../img/eclipseNewProject.png" alt="Eclipse New Project" width="525" height="500"></p>
          </center>
        </li>
        <li>In the "New Java Project" window:
          <br/> In "Project name", enter any project name,  <code>ptII</code>
          is a common choice.
          <br/>In "Project Layout", check "Use project folder as root for
          source and class files".  If "Project Layout" is not selectable, then
          that means that there is already a <code>.eclipse.epf</code> file in the
          default location.  This is usually not a problem, but to be safe,
          exit Eclipse, remove the file and restart Eclipse.
          <br/> The issue here is that by default, Eclipse generates .class files in
          a <code>bin/</code> directory.  However, the Ptolemy II source repository
          has scripts in <code>$PTII/bin/</code>.  If Eclipse places .class files in
          <code>bin/</code> then <code>$PTII/bin/makefile</code> will not exist
          and <code>$PTII/bin/vergil</code> will not be created when <code>make</code>
          is run.
          <br/>Below is the "New Java Project" windows:
          <center>
	    <p><img src="../../img/eclipseNewJavaProjectSVN.png" alt="Eclipse New Java Project" width="604" height="680"></p>
          </center>
        </li>

        <li> Click "Finish".</li>

        <li> Wait for the checkout to finish. <i>Go get coffee.</i>
          <br/><b>Note:</b>If you did not disable build automatically, as
          suggested above, then Eclipse will build the project and produce
          <b>thousands of errors</b>. This is not really a problem.  You will
          fix the errors in the next step with the <code>.classpath.default</code> file.
        </li>

        <li><b>If you have read/write access</b> go to <a href="setupSubversion.htm" target="main">Setup the Subversion Configuration to Sane Settings</a> so that if you commit files, they will have the appropriate settings.
        </li>

        <li>All users should go on to <a href="setupClasspath.htm" target="main">Set up the Eclipse ptII project .classpath for Ptolemy II</a>
        </li>

      </ol>
  </body>
</html>
